<!DOCTYPE html>
<html>
	<!-- login -->

	<!-- if-statement checks if there is already a user logged in. if there is, then indicate this fact to the user. if
	there isn't, then display the normal sign in screen. -->
	<% if current_user %>
		<div>
			<br>
			<%= "You are already signed in as #{current_user.username}. Please log out first, by selecting the relevant option at the top-right of the page."%>
		</div>
	<% else %>
		<h1>Sign in</h1>
		
		<!-- check if there was an error the last time the user tried to sign in. if there was, then display a prompt to
		the user. -->
		<% if flash[:error_message] %>
			<div class="error_message"><%= flash[:error_message] %></div>
		<% end %>

		<!-- sign-in form -->
		<div>
			<%= form_for :session, url: "/login" do |f|%>

				<table>
					<tr>
						<td>Username:</td>
						<td><%= f.text_field :username %></td>
					</tr>
					<tr>
						<td>Password:</td>
						<td><%= f.password_field :password %></td>
					</tr>
				</table>
				<%= f.submit "Sign in", class: "submit_button" %>

			<% end %>
		</div>
	<% end %>
</html>